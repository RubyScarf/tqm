<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drop 14</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="../assets/book.png"> 
    <link rel="stylesheet" href="../chapters/chapters.css">
    <link rel="stylesheet" href="../chapters/chapter14.css">
</head>
<body> 
    <h1 class="note-title">Heart Pod #14</h1>

    <div class="book">
        <h2 id="question">Pick a name</h2>
        <div id="choices"></div>
        <div id="story"></div>
    </div>
    
    <script>
        const questions = [
            { q: "Pick a color", options: ["Teal", "Blue", "Golden", "Lavender"] },
            { q: "Pick a place", options: ["a quiet beach", "a glowing city", "a forest trail", "a cozy room"] },
            { q: "Pick an animal", options: ["cat", "fox", "butterfly", "dog"] },
            { q: "Pick a vibe", options: ["peaceful", "chaotic", "dreamy", "adventurous"] },
            { q: "Pick a time of day", options: ["sunset", "midnight", "early morning", "rainy afternoon"] }
        ];
        
        let answers = [];
        let step = -1;
        let playerName = "";
        
        const questionEl = document.getElementById("question");
        const choicesEl = document.getElementById("choices");
        const storyEl = document.getElementById("story");
        const music = document.getElementById("bgMusic");
        
        function showQuestion() {
            choicesEl.innerHTML = "";
            const current = questions[step];
            questionEl.textContent = current.q;
            
            current.options.forEach(option => {
                const btn = document.createElement("button");
                btn.textContent = option;
                btn.onclick = () => choose(option);
                choicesEl.appendChild(btn);
            });
        }
        
        function choose(option) {
            answers.push(option);
            step++;
            if (step < questions.length) {
                showQuestion();
            } else {
                revealStory();
            }
        }
        
        function revealStory() {
            questionEl.textContent = "✨ You made a story";
            choicesEl.innerHTML = "";
            
            const endings = [
                `Nothing huge happened, but ${playerName || "someone"} left that moment softer than before.`,
                `It became one of those memories people don’t forget, even years later.`,
                `The world didn’t change — but something inside did.`,
            ];
            
            const randomEnding = endings[Math.floor(Math.random() * endings.length)];
            
            storyEl.innerHTML = `
            One ${answers[4]}, ${playerName || "someone"} with ${answers[0]} energy found themselves in ${answers[1]}.
            A small ${answers[2]} appeared, carrying a ${answers[3]} feeling in the air.
            The moment felt quiet, like the world had slowed down just enough to breathe.
            ${randomEnding}
            `;
        }
        
        const nameInput = document.createElement("input");
        nameInput.placeholder = "Type a name";
        nameInput.style.padding = "8px";
        nameInput.style.margin = "10px";
        nameInput.style.borderRadius = "8px";
        nameInput.style.border = "1px solid #ccc";
        
        const startBtn = document.createElement("button");
        startBtn.textContent = "Start";
        startBtn.onclick = () => {
            playerName = nameInput.value.trim();
            step = 0;
            showQuestion();
        };
        
        choicesEl.appendChild(nameInput);
        choicesEl.appendChild(startBtn);
    </script>

    <a class="back-btn" href="../index.html">Back to the Hearts ❤️</a>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const bgMusic = document.getElementById("bgMusic");
            bgMusic.volume = 0.5; 
            bgMusic.play();
        });
    </script>
</body>
</html>
